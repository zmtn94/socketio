<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js">
</script>
<script src="/socket.io/socket.io.js"></script>
</head>
<body>
<form method='post' action='/chart'>
   test1<input type="text" name="test1" /><br>
   test2<input type="text" name="test2" /><br>
   test3<input type="text" name="test3" /><br>
   test4<input type="text" name= "test4"/><br>
   test5<input type="text" name="test5"/><br>
   test6<input type="text" name="test6"/><br>
   <input type='submit', value='ok'/>
</form>
y

<canvas id="myChart" width="400" height="400"></canvas>
<script>
var socket = io('//'+document.location.hostname+':'+document.location.port);


socket.on('chart', function(data){
		console.log(data.data1);
var ctx = document.getElementById('myChart');
//ctx.width = ctx.width;
var context = ctx.getContext('2d');
context.clearRect(0,0,ctx.width, ctx.height);
context.beginPath();
ctx.width=ctx.width;
ctx.height = ctx.height;
var myChart = new Chart(ctx, {
type: 'bar',
data: {
   labels: ["Red","Blue","Yellow","Green","Purple","Orange"],
   datasets: [{
      label: '# of Votes',
	  data: [data.data1,data.data2,data.data3,data.data4,data.data5,data.data6],
	  backgroundColor: [ 
	     'rgba(255,99,132,0.2)',
		 'rgba(54,162,235,0.2)',
		 'rgba(255,206,86,0.2)',
		 'rgba(75,192,192,0.2)',
		 'rgba(153,102,255,0.2)',
		 'rgba(255,159,64,0.2)'
		 ],
      borderColor: [ 
	     'rgba(255,99,132,1)',
		 'rgba(54,162,235,1)',
		 'rgba(255,206,86,1)',
		 'rgba(75,192,192,1)',
		 'rgba(153,102,255,1)',
		 'rgba(255,159,64,1)'
	   ],
	   borderWidth: 1
   }]
},
options:{scales:{
yAxes:[{
ticks:{
beginAtZero:true
	  }
	  }]
	   }
		}
});
});



var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx, {
type: 'bar',
data: {
   labels: ["Red","Blue","Yellow","Green","Purple","Orange"],
   datasets: [{
      label: '# of Votes',
	  data: [12,19,3,5,2,3],
	  backgroundColor: [ 
	     'rgba(255,99,132,0.2)',
		 'rgba(54,162,235,0.2)',
		 'rgba(255,206,86,0.2)',
		 'rgba(75,192,192,0.2)',
		 'rgba(153,102,255,0.2)',
		 'rgba(255,159,64,0.2)'
		 ],
      borderColor: [ 
	     'rgba(255,99,132,1)',
		 'rgba(54,162,235,1)',
		 'rgba(255,206,86,1)',
		 'rgba(75,192,192,1)',
		 'rgba(153,102,255,1)',
		 'rgba(255,159,64,1)'
	   ],
	   borderWidth: 1
   }]
},
options:{
scales:{
yAxes:[{
ticks:{
beginAtZero:true
	  }
	  }]
	   }
		}
});


		
</script>
</body>
